!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(4),n(9),n(1)()},function(e,t,n){var o=n(2),a=n(3);e.exports=function(){angular.module("dps",[]).controller("ctrl",["$scope","$http","$timeout",function(e,t,n){e.searchList=[],e.player=new o,e.monster={},e.monsterList=[],e.tabSelected=0,e.selectItem=function(t,n){var o;n.dataObj.resList.forEach(function(e){console.log(e,t),e.name===t&&(o=e)}),e.player.equip(o)},e.selectMonster=function(n,o){t({method:"GET",url:"/api/getMonstersByName",params:{name:n}}).then(function(t){console.log(t),e.monsterList=t.data,e.monster=t.data[0]})},e.itemSearch=new a("/api/searchItems",{elem:"item-search",selectFn:e.selectItem},function(t,n){n.clear(),JSON.parse(t).forEach(function(e){n.dataObj.showList.push(e.name),n.dataObj.resList.push(e)}),e.$apply()}),e.monsterSearch=new a("/api/searchMonsterNames",{elem:"monster-search",selectFn:e.selectMonster},function(t,n){n.clear(),JSON.parse(t).forEach(function(e){n.dataObj.showList.push(e),n.dataObj.resList.push(e)}),e.$apply()}),document.addEventListener("keydown",function(t){"ArrowDown"!==t.code&&"ArrowUp"!==t.code||e.$apply()})}]).directive("loadoutCell",function(){return{scope:{slotname:"@",player:"="},templateUrl:"html/loadout-cell.html"}}).directive("bonusRow",function(){return{scope:{bonusName:"@",value:"@",percent:"@"},template:"<td>{{bonusName}}:</td><td ng-class=\"{'color-3':value > 0, 'color-2': value < 0, 'color-grey': value == 0}\"><span ng-hide=\"!(value >= 0)\">+</span>{{value}}<span ng-class={'hidden':percent==null}>%</span></td>"}}).directive("searchBox",function(){return{scope:{search:"=",select:"=",placeholder:"@",id:"@"},templateUrl:"html/search-box.html"}}).directive("loadout",function(){return{scope:{player:"=",search:"="},templateUrl:"/html/directives/loadout.html"}})}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=["cape","head","neck","ammo","weapon","shield","body","legs","hands","feet","ring","2h"],a=["stabAttack","slashAttack","crushAttack","magicAttack","rangedAttack","stabDefence","slashDefence","crushDefence","magicDefence","rangedDefence","strength","rangedStrength","magicStrength","prayer"],r={id:0,name:null,slot:null,bonuses:Array(14).fill(0)},s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.equipment={},this.slots.forEach(function(e){t.equipment[e]=r}),this.bonuses=Array(14).fill(0)}var t,s,i;return t=e,(s=[{key:"equip",value:function(e){if(-1===o.indexOf(e.slot))return!1;"2h"===e.slot?(this.equipment.weapon=e,this.unequip("shield")):"shield"===e.slot&&"2h"===this.equipment.weapon.slot?(this.equipment[e.slot]=e,this.unequip("weapon")):(this.equipment[e.slot]=e,this.update())}},{key:"unequip",value:function(e){this.equipment[e]=r,this.update()}},{key:"update",value:function(){for(var e=this,t=0;t<a.length;t++){var n=0;o.forEach(function(o){n+=e.equipment[o].bonuses[t]}),e.bonuses[t]=n}}},{key:"slots",get:function(){return o}},{key:"bonusList",get:function(){return a}}])&&n(t.prototype,s),i&&n(t,i),e}();e.exports=s},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchFn=o,this.dataObj=n,this.url=t,this.name="test",n.resList=[],n.showList=[],console.log(this),this.keybound=0}var t,o,a;return t=e,(o=[{key:"getList",value:function(){var e=this,t=this.dataObj.searchText,n=new XMLHttpRequest;n.onload=function(){console.log(t,e.dataObj.searchText),n.status>=200&&n.status<300&&t===e.dataObj.searchText&&(console.log(n.response),e.searchFn(n.response,e),e.dataObj.selected=0,e.keybind())},n.open("GET",this.url+"?like="+t+"&lim=5"),n.send()}},{key:"clear",value:function(){this.dataObj.resList.length=0,this.dataObj.showList.length=0}},{key:"highlight",value:function(e){console.log("asdas"),this.dataObj.selected=e}},{key:"select",value:function(e){var t=document.getElementById(this.dataObj.elem);this.dataObj.selectFn(e,this),t.querySelector(".auto-complete-input").value="",this.clear()}},{key:"keybind",value:function(){var e=this;if(this.keybound)console.log("keys are bound");else{console.log("binding the keys"),this.keybound=1;var t=document.getElementById(this.dataObj.elem);t.addEventListener("keydown",function(n){var o=e.dataObj.showList.length;"ArrowDown"===n.code?(n.preventDefault(),e.dataObj.selected=(e.dataObj.selected+1)%o):"ArrowUp"===n.code?(n.preventDefault(),e.dataObj.selected=((e.dataObj.selected-1)%o+o)%o):"Enter"===n.code&&(console.log(t),console.log(t.querySelector("[data-index="+e.selected+"]")),t.querySelector('[data-index="'+e.dataObj.selected+'"]').click())})}}}])&&n(t.prototype,o),a&&n(t,a),e}();e.exports=o},function(e,t){},,,,,function(e,t){}]);
//# sourceMappingURL=main.js.map